# Aliases adapted from
# https://github.com/japacible/config
# https://github.com/zachlatta/dotfiles
# http://zanshin.net/2013/02/02/zsh-configuration-from-the-ground-up/
# https://github.com/myfreeweb/zshuery/blob/master/zshuery.sh

# alias aliases
alias ae="$EDITOR ~/.aliases"
alias ar='. ~/.aliases'

# movement aliases
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias ~='cd ~'

# git aliases
alias g='git'
alias ga='git add'
alias gb='git branch -v'
alias gcob='git checkout -b'
alias gcom='git commit'
alias gd='git diff'
alias gl='git log'
alias gpull='git pull'
alias gpush='git push'
alias gr='git remote -v'
alias gs='git status'

# git config aliases
alias gbd='git bdone'
alias gsave='git save'
alias gundo='git undo'

# directory aliases
alias ls='ls --color=auto'
alias l='ls -CF'
alias la='ls -a'
alias ll='ls -alF'
alias mkdir='mkdir -p'

# tmux aliases
alias tmux='tmux -2'
alias tmuxa='tmux attach -dt'
alias tmuxsource='tmux source-file ~/.tmux.conf'

# browser aliases
alias chrome='google-chrome'
alias os='uname -srm'
alias now='date'

# pakage aliases
alias agi='sudo apt-get install'
alias agr='sudo apt-get remove'
alias agu='sudo apt-get update'
alias aps='aptitude search'

# info aliases
alias ip='wget -qO- icanhazip.com'

# dev aliases
alias prettyjson='python3 -m json.tool'
alias pserv='python3 -m http.server'
alias crone="$EDITOR ~/.dotfiles/crontab && crontab ~/.dotfiles/crontab"
alias jserv='sudo browser-sync start --port $PORT --server --files "**"'
alias hubot='bin/hubot'

# misc aliases
alias installhistory='cat /var/log/dpkg.log | grep "\ install\ "'
alias killport='fuser -k -n tcp '
alias pin='ping 8.8.8.8'
alias i3reload='i3-msg -t command restart'
alias fontreload='fc-cache -f -v'
alias record='asciinema rec'

# remotes aliases
alias meowth='mosh maxw@meowth.servers.hackedu.us'
alias palm='mosh root@192.241.232.211'

# function aliases
## transfer service from https://github.com/dutchcoders/transfer.sh/
transfer() {
  # write to output to tmpfile because of progress bar
  local tmpfile=$( mktemp -t transferXXX )
  curl --progress-bar --upload-file $1 https://transfer.sh/$(basename $1) >> $tmpfile
  cat $tmpfile
  cat $tmpfile | xclip -selection clipboard
  rm -f $tmpfile
}

# Load nvm
loadnvm() {
  export NVM_DIR="$HOME/.nvm"
  [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" # This loads nvm
}

# Extract a file
function extract() {
  if [ -f $1 ] ; then
    case $1 in
      *.7z)        7z x $1           ;;
      *.Z)         uncompress $1     ;;
      *.bz2)       bunzip2 $1        ;;
      *.gz)        gunzip $1         ;;
      *.rar)       unrar x $1        ;;
      *.tar)       tar xvf $1        ;;
      *.tar.bz2)   tar xvjf $1       ;;
      *.tar.gz)    tar xvzf $1       ;;
      *.tar.lzma)  tar --lzma xvf $1 ;;
      *.tar.xz)    tar xvJf $1       ;;
      *.tbz2)      tar xvjf $1       ;;
      *.tgz)       tar xvzf $1       ;;
      *.zip)       unzip $1          ;;
      *)
        echo "'$1' cannot be extracted via >extract<" ;;
    esac
  else
    echo "'$1' is not a valid file"
  fi
}
